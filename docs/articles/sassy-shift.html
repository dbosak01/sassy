<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Example 16: Shift Table â€¢ sassy</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Example 16: Shift Table">
<meta property="og:description" content="sassy">
<meta property="og:image" content="https://sassy.r-sassy.org/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sassy</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.2.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"></ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../articles/sassy.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/sassy-listing.html">Example 1: Listing</a>
    </li>
    <li>
      <a href="../articles/sassy-dm.html">Example 2: Demographics Table</a>
    </li>
    <li>
      <a href="../articles/sassy-figure.html">Example 3: Figures</a>
    </li>
    <li>
      <a href="../articles/sassy-ae.html">Example 4: Adverse Events Table</a>
    </li>
    <li>
      <a href="../articles/sassy-vs.html">Example 5: Vital Signs Table</a>
    </li>
    <li>
      <a href="../articles/sassy-figureby.html">Example 6: Figure with By Group</a>
    </li>
    <li>
      <a href="../articles/sassy-survival.html">Example 7: Survival Analysis</a>
    </li>
    <li>
      <a href="../articles/sassy-profile.html">Example 8: Patient Profile</a>
    </li>
    <li>
      <a href="../articles/sassy-forest.html">Example 9: Forest Plot</a>
    </li>
    <li>
      <a href="../articles/sassy-ds.html">Example 10: Disposition Table</a>
    </li>
    <li>
      <a href="../articles/sassy-plisting.html">Example 11: Subject Listing</a>
    </li>
    <li>
      <a href="../articles/sassy-pfigure.html">Example 12: Combined Figure</a>
    </li>
    <li>
      <a href="../articles/sassy-chgbase.html">Example 13: Mean Change From Baseline</a>
    </li>
    <li>
      <a href="../articles/sassy-ae2.html">Example 14: AE Severity in Rows</a>
    </li>
    <li>
      <a href="../articles/sassy-intext.html">Example 15: Intext Table</a>
    </li>
    <li>
      <a href="../articles/sassy-shift.html">Example 16: Shift Table</a>
    </li>
    <li>
      <a href="../articles/sassy-disclaimers.html">Disclaimers</a>
    </li>
    <li>
      <a href="../articles/sassy-faq.html">Frequently Asked Questions</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href=".././articles/sassy-faq.html">FAQ</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://github.com/dbosak01/sassy/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Example 16: Shift Table</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/dbosak01/sassy/blob/HEAD/vignettes/sassy-shift.Rmd" class="external-link"><code>vignettes/sassy-shift.Rmd</code></a></small>
      <div class="hidden name"><code>sassy-shift.Rmd</code></div>

    </div>

    
    
<p>This example produces a shift table of lab values. A shift table is
used to observe the change in lab values over visits, and is commonly
used in the pharmaceutical industry.</p>
<div class="section level2">
<h2 id="program">Program<a class="anchor" aria-label="anchor" href="#program"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-sassy.org" class="external-link">sassy</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span><span class="st">"logr.notes"</span> <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>        <span class="st">"logr.autolog"</span> <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        <span class="st">"procs.print"</span> <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get temp location for log and report output</span></span>
<span><span class="va">tmp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">lf</span> <span class="op">&lt;-</span> <span class="fu">log_open</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">tmp</span>, <span class="st">"example16.log"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Get data ----------------------------------------------------------------</span></span>
<span></span>
<span><span class="fu">sep</span><span class="op">(</span><span class="st">"Get data"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get sample data path</span></span>
<span><span class="va">pth</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, package <span class="op">=</span> <span class="st">"sassy"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">put</span><span class="op">(</span><span class="st">"Open data library"</span><span class="op">)</span></span>
<span><span class="co">#libname(sdtm, pth, "csv")</span></span>
<span><span class="fu">libname</span><span class="op">(</span><span class="va">sdtm</span>, <span class="st">"./data/abc/SDTM"</span>, <span class="st">"csv"</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Create Formats ----------------------------------------------------------</span></span>
<span></span>
<span><span class="fu">sep</span><span class="op">(</span><span class="st">"Create Formats"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">put</span><span class="op">(</span><span class="st">"Format for visits"</span><span class="op">)</span></span>
<span><span class="va">vfmt</span> <span class="op">&lt;-</span> <span class="fu">value</span><span class="op">(</span><span class="fu">condition</span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"DAY 1"</span>, <span class="st">"Day 1"</span><span class="op">)</span>, </span>
<span>              <span class="fu">condition</span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"WEEK 2"</span>, <span class="st">"Week 2"</span><span class="op">)</span>,</span>
<span>              <span class="fu">condition</span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"WEEK 6"</span>, <span class="st">"Week 6"</span><span class="op">)</span>,</span>
<span>              <span class="fu">condition</span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"WEEK 12"</span>, <span class="st">"Week 12"</span><span class="op">)</span>,</span>
<span>              as.factor <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">put</span><span class="op">(</span><span class="st">"Format for ARMs"</span><span class="op">)</span></span>
<span><span class="va">afmt</span> <span class="op">&lt;-</span> <span class="fu">value</span><span class="op">(</span><span class="fu">condition</span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"ARM A"</span>, <span class="st">"Placebo"</span><span class="op">)</span>, </span>
<span>              <span class="fu">condition</span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"ARM B"</span>, <span class="st">"Drug (10mg)"</span><span class="op">)</span>, </span>
<span>              <span class="fu">condition</span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"ARM C"</span>, <span class="st">"Drug (20mg)"</span><span class="op">)</span>,</span>
<span>              <span class="fu">condition</span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"ARM D"</span>, <span class="st">"Competitor"</span><span class="op">)</span>,</span>
<span>              as.factor <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">put</span><span class="op">(</span><span class="st">"Format for Lab Result Indicator"</span><span class="op">)</span></span>
<span><span class="va">rfmt</span> <span class="op">&lt;-</span> <span class="fu">value</span><span class="op">(</span><span class="fu">condition</span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"LOW"</span>, <span class="st">"Low"</span><span class="op">)</span>,</span>
<span>              <span class="fu">condition</span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"NORMAL"</span>, <span class="st">"Normal"</span><span class="op">)</span>,</span>
<span>              <span class="fu">condition</span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"HIGH"</span>, <span class="st">"High"</span><span class="op">)</span>,</span>
<span>              <span class="fu">condition</span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"UNKNOWN"</span>, <span class="st">"Unknown"</span><span class="op">)</span>,</span>
<span>              as.factor <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Prepare data ------------------------------------------------------------</span></span>
<span></span>
<span><span class="fu">sep</span><span class="op">(</span><span class="st">"Prepare data"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">put</span><span class="op">(</span><span class="st">"Pull out needed visits and columns"</span><span class="op">)</span></span>
<span><span class="va">lbsub1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">sdtm</span><span class="op">$</span><span class="va">LB</span>, <span class="va">VISIT</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">toupper</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">vfmt</span><span class="op">)</span><span class="op">)</span>, </span>
<span>                 <span class="fu">v</span><span class="op">(</span><span class="va">USUBJID</span>, <span class="va">VISIT</span>, <span class="va">VISITNUM</span>, <span class="va">LBCAT</span>, <span class="va">LBORRESU</span>, <span class="va">LBTEST</span>, </span>
<span>                   <span class="va">LBTESTCD</span>, <span class="va">LBBLFL</span>, <span class="va">LBNRIND</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">put</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">put</span><span class="op">(</span><span class="st">"Pull out baseline subset"</span><span class="op">)</span></span>
<span><span class="va">lbsub2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">lbsub1</span>, <span class="va">LBBLFL</span> <span class="op">==</span> <span class="st">'Y'</span>, </span>
<span>                 <span class="fu">v</span><span class="op">(</span><span class="va">USUBJID</span>, <span class="va">VISIT</span>, <span class="va">LBCAT</span>, <span class="va">LBTESTCD</span>, <span class="va">LBNRIND</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">put</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">put</span><span class="op">(</span><span class="st">"Merge and append change from baseline"</span><span class="op">)</span></span>
<span><span class="fu">datastep</span><span class="op">(</span><span class="va">lbsub1</span>, merge <span class="op">=</span> <span class="va">lbsub2</span>, merge_by <span class="op">=</span> <span class="fu">v</span><span class="op">(</span><span class="va">USUBJID</span>, <span class="va">LBCAT</span>, <span class="va">LBTESTCD</span><span class="op">)</span>, </span>
<span>         rename <span class="op">=</span> <span class="fu">v</span><span class="op">(</span>LBNRIND.1 <span class="op">=</span> <span class="va">LBNRIND</span>, LBNRIND.2 <span class="op">=</span> <span class="va">BLBNRIND</span>, VISIT.1 <span class="op">=</span> <span class="va">VISIT</span><span class="op">)</span>,</span>
<span>         drop <span class="op">=</span> <span class="va">VISIT.2</span>, <span class="op">{</span></span>
<span>           </span>
<span>           <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">LBNRIND.1</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>             </span>
<span>             <span class="va">LBNRIND.1</span> <span class="op">&lt;-</span> <span class="st">"UNKNOWN"</span></span>
<span>           <span class="op">}</span></span>
<span>           </span>
<span>           <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">LBNRIND.2</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>             </span>
<span>             <span class="va">LBNRIND.2</span> <span class="op">&lt;-</span> <span class="st">"UNKNOWN"</span></span>
<span>           <span class="op">}</span></span>
<span>           </span>
<span>         <span class="op">}</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">lbsub</span> </span>
<span></span>
<span><span class="fu">put</span><span class="op">(</span><span class="st">"Pull needed ARMs and columns for DM"</span><span class="op">)</span></span>
<span><span class="va">dmsub</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">sdtm</span><span class="op">$</span><span class="va">DM</span>, <span class="va">ARM</span> <span class="op">!=</span> <span class="st">"SCREEN FAILURE"</span> <span class="op">&amp;</span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">ARM</span><span class="op">)</span> <span class="op">==</span> <span class="cn">FALSE</span>, </span>
<span>                <span class="fu">v</span><span class="op">(</span><span class="va">USUBJID</span>, <span class="va">ARMCD</span>, <span class="va">ARM</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">put</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">put</span><span class="op">(</span><span class="st">"Merge DM with LB to get subject treatments"</span><span class="op">)</span></span>
<span><span class="fu">datastep</span><span class="op">(</span><span class="va">lbsub</span>, merge <span class="op">=</span> <span class="va">dmsub</span>, merge_by <span class="op">=</span> <span class="va">USUBJID</span>, </span>
<span>         where <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html" class="external-link">expression</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">toupper</a></span><span class="op">(</span><span class="va">VISIT</span><span class="op">)</span> <span class="op">!=</span> <span class="st">'SCREENING'</span><span class="op">)</span>, </span>
<span>         <span class="op">{</span></span>
<span>           <span class="va">VISIT</span> <span class="op">&lt;-</span> <span class="fu">fapply</span><span class="op">(</span><span class="va">VISIT</span>, <span class="va">vfmt</span><span class="op">)</span></span>
<span>         <span class="op">}</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">lbdat</span> </span>
<span></span>
<span></span>
<span><span class="co"># Get population counts ---------------------------------------------------</span></span>
<span></span>
<span><span class="fu">sep</span><span class="op">(</span><span class="st">"Get population counts"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">proc_sort</span><span class="op">(</span><span class="va">lbdat</span>, by <span class="op">=</span> <span class="fu">v</span><span class="op">(</span><span class="va">ARM</span>, <span class="va">USUBJID</span><span class="op">)</span>,</span>
<span>          keep <span class="op">=</span> <span class="fu">v</span><span class="op">(</span><span class="va">ARM</span>, <span class="va">USUBJID</span><span class="op">)</span>,</span>
<span>          options <span class="op">=</span> <span class="va">nodupkey</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">lb_unique</span></span>
<span></span>
<span></span>
<span><span class="fu">put</span><span class="op">(</span><span class="st">"Get population frequencies"</span><span class="op">)</span></span>
<span><span class="fu">proc_freq</span><span class="op">(</span><span class="va">lb_unique</span>, tables <span class="op">=</span> <span class="va">ARM</span>,</span>
<span>          output <span class="op">=</span> <span class="va">long</span>,</span>
<span>          options <span class="op">=</span> <span class="fu">v</span><span class="op">(</span><span class="va">nopercent</span>, <span class="va">nonobs</span><span class="op">)</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">lb_pop</span></span>
<span></span>
<span></span>
<span><span class="co"># Prepare lab test labels -------------------------------------------------</span></span>
<span></span>
<span><span class="fu">sep</span><span class="op">(</span><span class="st">"Lab test labels"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">put</span><span class="op">(</span><span class="st">"Get lookup data for lab tests"</span><span class="op">)</span></span>
<span><span class="fu">proc_sort</span><span class="op">(</span><span class="va">lbdat</span>, by <span class="op">=</span> <span class="fu">v</span><span class="op">(</span><span class="va">LBTESTCD</span>, <span class="va">LBTEST</span>, <span class="va">LBORRESU</span><span class="op">)</span>, </span>
<span>          keep <span class="op">=</span> <span class="fu">v</span><span class="op">(</span><span class="va">LBTESTCD</span>, <span class="va">LBTEST</span>, <span class="va">LBORRESU</span><span class="op">)</span>, </span>
<span>          options <span class="op">=</span> <span class="va">nodupkey</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">tcodes</span></span>
<span></span>
<span><span class="fu">put</span><span class="op">(</span><span class="st">"Create test label with units"</span><span class="op">)</span></span>
<span><span class="fu">datastep</span><span class="op">(</span><span class="va">tcodes</span>, where <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html" class="external-link">expression</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">LBORRESU</span><span class="op">)</span> <span class="op">==</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>         keep <span class="op">=</span> <span class="fu">v</span><span class="op">(</span><span class="va">LBTESTCD</span>, <span class="va">LABEL</span><span class="op">)</span>, </span>
<span>         <span class="op">{</span></span>
<span>           </span>
<span>           <span class="va">LABEL</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">LBTEST</span>, <span class="st">" ("</span>, <span class="va">LBORRESU</span>, <span class="st">")"</span><span class="op">)</span> </span>
<span>           </span>
<span>         <span class="op">}</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">tfmtdat</span> </span>
<span></span>
<span><span class="fu">put</span><span class="op">(</span><span class="st">"Create lab value lookup"</span><span class="op">)</span> </span>
<span><span class="va">tfmt</span> <span class="op">&lt;-</span> <span class="va">tfmtdat</span><span class="op">$</span><span class="va">LABEL</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">tfmt</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">tfmtdat</span><span class="op">$</span><span class="va">LBTESTCD</span></span>
<span></span>
<span></span>
<span><span class="co"># Calculate frequencies ----------------------------------------------------</span></span>
<span></span>
<span><span class="fu">sep</span><span class="op">(</span><span class="st">"Calculate frequencies"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">put</span><span class="op">(</span><span class="st">"Apply formats"</span><span class="op">)</span></span>
<span><span class="va">lbdat</span><span class="op">$</span><span class="va">LBNRIND</span> <span class="op">&lt;-</span> <span class="fu">fapply</span><span class="op">(</span><span class="va">lbdat</span><span class="op">$</span><span class="va">LBNRIND</span>, <span class="va">rfmt</span><span class="op">)</span></span>
<span><span class="va">lbdat</span><span class="op">$</span><span class="va">BLBNRIND</span> <span class="op">&lt;-</span> <span class="fu">fapply</span><span class="op">(</span><span class="va">lbdat</span><span class="op">$</span><span class="va">BLBNRIND</span>, <span class="va">rfmt</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">put</span><span class="op">(</span><span class="st">"Get freqs by ARM and visit"</span><span class="op">)</span></span>
<span><span class="fu">proc_freq</span><span class="op">(</span><span class="va">lbdat</span>, by <span class="op">=</span> <span class="fu">v</span><span class="op">(</span><span class="va">ARM</span>, <span class="va">LBTESTCD</span>, <span class="va">VISIT</span><span class="op">)</span>,</span>
<span>          tables <span class="op">=</span> <span class="va">LBNRIND</span> <span class="op">*</span> <span class="va">BLBNRIND</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">lb_freq</span></span>
<span></span>
<span><span class="fu">put</span><span class="op">(</span><span class="st">"Combine frequencies and percents"</span><span class="op">)</span></span>
<span><span class="fu">datastep</span><span class="op">(</span><span class="va">lb_freq</span>, </span>
<span>         drop <span class="op">=</span> <span class="fu">v</span><span class="op">(</span><span class="va">VAR1</span>, <span class="va">VAR2</span>, <span class="va">CNT</span>, <span class="va">PCT</span><span class="op">)</span>,</span>
<span>         <span class="op">{</span></span>
<span>           <span class="kw">if</span> <span class="op">(</span><span class="va">CNT</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>             <span class="va">CNTPCT</span> <span class="op">&lt;-</span> <span class="fu">fapply</span><span class="op">(</span><span class="va">CNT</span>, <span class="st">"%d"</span>, width <span class="op">=</span> <span class="fl">10</span>, justify <span class="op">=</span> <span class="st">"left"</span><span class="op">)</span> </span>
<span>           <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>             <span class="va">CNTPCT</span> <span class="op">&lt;-</span> <span class="fu">fapply2</span><span class="op">(</span><span class="va">CNT</span>, <span class="va">PCT</span>, <span class="st">"%d"</span>, <span class="st">"(%5.1f%%)"</span><span class="op">)</span></span>
<span>           <span class="op">}</span></span>
<span>         <span class="op">}</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">lb_comb</span></span>
<span></span>
<span></span>
<span><span class="fu">put</span><span class="op">(</span><span class="st">"Transpose ARMs"</span><span class="op">)</span> </span>
<span><span class="fu">proc_transpose</span><span class="op">(</span><span class="va">lb_comb</span>, id <span class="op">=</span> <span class="fu">v</span><span class="op">(</span><span class="va">BY1</span>, <span class="va">CAT2</span><span class="op">)</span>, copy <span class="op">=</span> <span class="va">N</span>,</span>
<span>               by <span class="op">=</span> <span class="fu">v</span><span class="op">(</span><span class="va">BY2</span>, <span class="va">BY3</span>, <span class="va">CAT1</span><span class="op">)</span>, var <span class="op">=</span> <span class="va">CNTPCT</span>,</span>
<span>               options <span class="op">=</span> <span class="va">noname</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">lb_final</span></span>
<span></span>
<span><span class="fu">put</span><span class="op">(</span><span class="st">"Apply formats"</span><span class="op">)</span></span>
<span><span class="va">lb_final</span><span class="op">$</span><span class="va">BY2</span> <span class="op">&lt;-</span> <span class="fu">fapply</span><span class="op">(</span><span class="va">lb_final</span><span class="op">$</span><span class="va">BY2</span>, <span class="va">tfmt</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">put</span><span class="op">(</span><span class="st">"Rename variables"</span><span class="op">)</span></span>
<span><span class="fu">datastep</span><span class="op">(</span><span class="va">lb_final</span>, </span>
<span>         rename <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>BY2 <span class="op">=</span> <span class="st">"LBTEST"</span>, BY3 <span class="op">=</span> <span class="st">"VISIT"</span>, CAT1 <span class="op">=</span> <span class="st">"RIND"</span><span class="op">)</span>, </span>
<span>         <span class="op">{</span><span class="op">}</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">lb_final</span></span>
<span></span>
<span><span class="fu">put</span><span class="op">(</span><span class="st">"Sort by lab test"</span><span class="op">)</span></span>
<span><span class="fu">proc_sort</span><span class="op">(</span><span class="va">lb_final</span>, by <span class="op">=</span> <span class="fu">v</span><span class="op">(</span><span class="va">LBTEST</span>, <span class="va">VISIT</span><span class="op">)</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">lb_final</span></span>
<span></span>
<span></span>
<span></span>
<span><span class="co"># Create report -----------------------------------------------------------</span></span>
<span></span>
<span><span class="fu">sep</span><span class="op">(</span><span class="st">"Create report"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">put</span><span class="op">(</span><span class="st">"Create output path"</span><span class="op">)</span></span>
<span><span class="va">pth</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">tmp</span>, <span class="st">"output/example16.pdf"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">put</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">tbl</span> <span class="op">&lt;-</span> <span class="fu">create_table</span><span class="op">(</span><span class="va">lb_final</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">spanning_header</span><span class="op">(</span><span class="va">`ARM A.Low`</span>, <span class="va">`ARM A.Unknown`</span>, <span class="st">"Placebo"</span>, n <span class="op">=</span> <span class="va">lb_pop</span><span class="op">[</span><span class="st">"ARM A"</span><span class="op">]</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">spanning_header</span><span class="op">(</span><span class="va">`ARM B.Low`</span>, <span class="va">`ARM B.Unknown`</span>, <span class="st">"Drug 10mg"</span>, n <span class="op">=</span> <span class="va">lb_pop</span><span class="op">[</span><span class="st">"ARM B"</span><span class="op">]</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">spanning_header</span><span class="op">(</span><span class="va">`ARM C.Low`</span>, <span class="va">`ARM C.Unknown`</span>, <span class="st">"Drug 20mg"</span>, n <span class="op">=</span> <span class="va">lb_pop</span><span class="op">[</span><span class="st">"ARM C"</span><span class="op">]</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">spanning_header</span><span class="op">(</span><span class="va">`ARM D.Low`</span>, <span class="va">`ARM D.Unknown`</span>, <span class="st">"Competitor"</span>, n <span class="op">=</span> <span class="va">lb_pop</span><span class="op">[</span><span class="st">"ARM D"</span><span class="op">]</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">define</span><span class="op">(</span><span class="va">LBTEST</span>, visible <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">define</span><span class="op">(</span><span class="va">VISIT</span>, <span class="st">"Visit"</span>, format <span class="op">=</span> <span class="va">vfmt</span>, dedupe <span class="op">=</span> <span class="cn">TRUE</span>, align <span class="op">=</span> <span class="st">"left"</span>, </span>
<span>         id_var <span class="op">=</span> <span class="cn">TRUE</span>, blank_after <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">define</span><span class="op">(</span><span class="va">N</span>, <span class="st">"n"</span>, visible <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">define</span><span class="op">(</span><span class="va">RIND</span>, <span class="st">""</span>, align <span class="op">=</span> <span class="st">"left"</span>, id_var <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">define</span><span class="op">(</span><span class="va">`ARM A.Low`</span>, <span class="st">"Low"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">define</span><span class="op">(</span><span class="va">`ARM A.Normal`</span>, <span class="st">"Normal"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">define</span><span class="op">(</span><span class="va">`ARM A.High`</span>, <span class="st">"High"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">define</span><span class="op">(</span><span class="va">`ARM A.Unknown`</span>, <span class="st">"Unknown"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">define</span><span class="op">(</span><span class="va">`ARM B.Low`</span>, <span class="st">"Low"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">define</span><span class="op">(</span><span class="va">`ARM B.Normal`</span>, <span class="st">"Normal"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">define</span><span class="op">(</span><span class="va">`ARM B.High`</span>, <span class="st">"High"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">define</span><span class="op">(</span><span class="va">`ARM B.Unknown`</span>, <span class="st">"Unknown"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">define</span><span class="op">(</span><span class="va">`ARM C.Low`</span>, <span class="st">"Low"</span>, page_wrap <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">define</span><span class="op">(</span><span class="va">`ARM C.Normal`</span>, <span class="st">"Normal"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">define</span><span class="op">(</span><span class="va">`ARM C.High`</span>, <span class="st">"High"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">define</span><span class="op">(</span><span class="va">`ARM C.Unknown`</span>, <span class="st">"Unknown"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">define</span><span class="op">(</span><span class="va">`ARM D.Low`</span>, <span class="st">"Low"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">define</span><span class="op">(</span><span class="va">`ARM D.Normal`</span>, <span class="st">"Normal"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">define</span><span class="op">(</span><span class="va">`ARM D.High`</span>, <span class="st">"High"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">define</span><span class="op">(</span><span class="va">`ARM D.Unknown`</span>, <span class="st">"Unknown"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  </span>
<span>  </span>
<span>  <span class="fu">put</span><span class="op">(</span><span class="st">"Create report"</span><span class="op">)</span></span>
<span><span class="va">rpt</span> <span class="op">&lt;-</span> <span class="fu">create_report</span><span class="op">(</span><span class="va">pth</span>, output_type <span class="op">=</span> <span class="st">"PDF"</span>,</span>
<span>                     font <span class="op">=</span> <span class="st">"Courier"</span>, font_size <span class="op">=</span> <span class="fl">9</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">set_margins</span><span class="op">(</span>top <span class="op">=</span> <span class="fl">1</span>, left <span class="op">=</span> <span class="fl">1</span>, right <span class="op">=</span> <span class="fl">1</span>, bottom <span class="op">=</span> <span class="fl">.5</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">page_header</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Protocol: ABC 12345-678"</span>, <span class="st">"DRUG/INDICATION: Consultopan"</span>, </span>
<span>                <span class="st">"TLF Version: Final Database Lock (03FEB2024)"</span><span class="op">)</span>, </span>
<span>              right <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"(Page [pg] of [tpg])"</span>, <span class="st">"DATABASE VERSION: 01FEB2024"</span>, </span>
<span>                        <span class="st">"TASK: CSR"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">titles</span><span class="op">(</span><span class="st">"Table 4.3.1.1"</span>, <span class="st">""</span>, <span class="st">"Shift Table of Laboratory Values - Hematology"</span>, </span>
<span>         <span class="st">"(Safety Population)"</span>, blank_row <span class="op">=</span> <span class="st">"below"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">page_by</span><span class="op">(</span><span class="va">LBTEST</span>, <span class="st">"Laboratory Value: "</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">add_content</span><span class="op">(</span><span class="va">tbl</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">footnotes</span><span class="op">(</span><span class="st">"PROGRAM/OUTPUT: T_LABSHIFT/T_4_3_1_1_HEM"</span>, </span>
<span>            <span class="st">"DATE (TIME): "</span> <span class="op">%p%</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">toupper</a></span><span class="op">(</span><span class="fu">fapply</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.time</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"%d%b%Y (%H:%M)"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>            columns <span class="op">=</span> <span class="fl">2</span>, borders <span class="op">=</span> <span class="st">"top"</span>, blank_row <span class="op">=</span> <span class="st">"below"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">footnotes</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Note 1: For N(%) of participants, percentages are calculated"</span>,</span>
<span>                  <span class="st">"as the number of participants for each ARM at each visit"</span>,</span>
<span>                  <span class="st">"as the denominator."</span><span class="op">)</span>,</span>
<span>            <span class="st">"Reference: Listing 2.8.1.1, 2.8.1.2"</span>, blank_row <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span><span class="fu">put</span><span class="op">(</span><span class="st">"Write out report to file system"</span><span class="op">)</span></span>
<span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">write_report</span><span class="op">(</span><span class="va">rpt</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Clean Up ----------------------------------------------------------------</span></span>
<span></span>
<span><span class="fu">sep</span><span class="op">(</span><span class="st">"Clean Up"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">log_close</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View report</span></span>
<span><span class="co"># file.show(res$modified_path)</span></span>
<span></span>
<span><span class="co"># View log</span></span>
<span><span class="co"># file.show(lf)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="output">Output<a class="anchor" aria-label="anchor" href="#output"></a>
</h2>
<p>Here is the output report:</p>
<p><img src="../man/images/shift.png" align="center"></p>
</div>
<div class="section level2">
<h2 id="log">Log<a class="anchor" aria-label="anchor" href="#log"></a>
</h2>
<p>Here is the log:</p>
<pre><code>=========================================================================
Log Path: C:/Users/dbosa/AppData/Local/Temp/RtmpaGlETW/log/example16.log
Program Path: C:/packages/Testing/sassytests/ShiftTable2.R
Working Directory: C:/packages/Testing
User Name: dbosa
R Version: 4.3.2 (2023-10-31 ucrt)
Machine: SOCRATES x86-64
Operating System: Windows 10 x64 build 22621
Base Packages: stats graphics grDevices utils datasets methods base Other
Packages: tidylog_1.0.2 ggplot2_3.4.4 cranlogs_2.1.1 dplyr_1.1.3 procs_1.0.5
reporter_1.4.3 libr_1.2.9 logr_1.3.5 fmtr_1.6.2 common_1.1.1 sassy_1.2.1
Log Start Time: 2024-02-06 14:52:04.476925
=========================================================================

=========================================================================
Get data
=========================================================================

Open data library

# library 'sdtm': 16 items
- attributes: csv not loaded
- path: ./data/abc/SDTM
- items:
      Name Extension  Rows Cols     Size        LastModified
1       AE       csv   150   27  88.3 Kb 2020-09-18 14:30:23
2       DA       csv  3587   18   528 Kb 2020-09-18 14:30:23
3       DM       csv    87   24  45.3 Kb 2020-09-18 14:30:23
4       DS       csv   174    9  33.9 Kb 2020-09-18 14:30:23
5  DS_IHOR       csv   174    9  33.9 Kb 2020-09-18 14:30:23
6       EX       csv    84   11  26.2 Kb 2020-09-18 14:30:23
7       IE       csv     2   14  13.2 Kb 2020-09-18 14:30:23
8       LB       csv  1618   24 348.2 Kb 2024-02-03 01:29:01
9      LB4       csv 23607   27   5.4 Mb 2020-09-18 14:30:23
10     LB6       csv  7810   12   879 Kb 2024-02-01 00:20:30
11     LB8       csv  2069   12 211.2 Kb 2024-02-02 22:42:43
12      PE       csv  1854   17 275.7 Kb 2020-09-18 14:30:24
13      QS       csv 13316   17   1.7 Mb 2020-09-18 14:30:24
14  SUPPEX       csv   639   10  63.8 Kb 2020-09-18 14:30:24
15      SV       csv   685   10  70.1 Kb 2020-09-18 14:30:24
16      VS       csv  3358   17 467.2 Kb 2020-09-18 14:30:24

=========================================================================
Create Formats
=========================================================================

Format for visits

# A user-defined format: 4 conditions
- as.factor: TRUE
  Name Type     Expression   Label Order
1  obj    U   x == "DAY 1"   Day 1    NA
2  obj    U  x == "WEEK 2"  Week 2    NA
3  obj    U  x == "WEEK 6"  Week 6    NA
4  obj    U x == "WEEK 12" Week 12    NA

Format for ARMs

# A user-defined format: 4 conditions
- as.factor: TRUE
  Name Type   Expression       Label Order
1  obj    U x == "ARM A"     Placebo    NA
2  obj    U x == "ARM B" Drug (10mg)    NA
3  obj    U x == "ARM C" Drug (20mg)    NA
4  obj    U x == "ARM D"  Competitor    NA

Format for Lab Result Indicator

# A user-defined format: 4 conditions
- as.factor: TRUE
  Name Type     Expression   Label Order
1  obj    U     x == "LOW"     Low    NA
2  obj    U  x == "NORMAL"  Normal    NA
3  obj    U    x == "HIGH"    High    NA
4  obj    U x == "UNKNOWN" Unknown    NA

=========================================================================
Prepare data
=========================================================================

Pull out needed visits and columns

# A tibble: 1,578 Ã— 9
   USUBJID    VISIT   VISITNUM LBCAT      LBORRESU LBTEST     LBTESTCD LBBLFL LBNRIND
   &lt;chr&gt;      &lt;chr&gt;      &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;  
 1 ABC-01-049 DAY 1          1 HEMATOLOGY x10(9)/L Basophils  BASO     Y      NORMAL 
 2 ABC-01-049 WEEK 2         2 HEMATOLOGY x10(9)/L Basophils  BASO     &lt;NA&gt;   NORMAL 
 3 ABC-01-049 WEEK 6         6 HEMATOLOGY x10(9)/L Basophils  BASO     &lt;NA&gt;   NORMAL 
 4 ABC-01-049 WEEK 12       12 HEMATOLOGY x10(9)/L Basophils  BASO     &lt;NA&gt;   NORMAL 
 5 ABC-01-049 DAY 1          1 HEMATOLOGY x10(9)/L Eosinophiâ€¦ EOS      Y      NORMAL 
 6 ABC-01-049 WEEK 2         2 HEMATOLOGY x10(9)/L Eosinophiâ€¦ EOS      &lt;NA&gt;   NORMAL 
 7 ABC-01-049 WEEK 6         6 HEMATOLOGY x10(9)/L Eosinophiâ€¦ EOS      &lt;NA&gt;   NORMAL 
 8 ABC-01-049 WEEK 12       12 HEMATOLOGY x10(9)/L Eosinophiâ€¦ EOS      &lt;NA&gt;   NORMAL 
 9 ABC-01-049 DAY 1          1 HEMATOLOGY %        Hematocrit HCT      Y      NORMAL 
10 ABC-01-049 WEEK 2         2 HEMATOLOGY %        Hematocrit HCT      &lt;NA&gt;   NORMAL 
# â„¹ 1,568 more rows
# â„¹ Use `print(n = ...)` to see more rows

Pull out baseline subset

# A tibble: 409 Ã— 5
   USUBJID    VISIT LBCAT      LBTESTCD LBNRIND
   &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt;  
 1 ABC-01-049 DAY 1 HEMATOLOGY BASO     NORMAL 
 2 ABC-01-049 DAY 1 HEMATOLOGY EOS      NORMAL 
 3 ABC-01-049 DAY 1 HEMATOLOGY HCT      NORMAL 
 4 ABC-01-049 DAY 1 HEMATOLOGY HGB      NORMAL 
 5 ABC-01-049 DAY 1 HEMATOLOGY LYM      NORMAL 
 6 ABC-01-050 DAY 1 HEMATOLOGY BASO     NORMAL 
 7 ABC-01-050 DAY 1 HEMATOLOGY EOS      NORMAL 
 8 ABC-01-050 DAY 1 HEMATOLOGY HCT      NORMAL 
 9 ABC-01-050 DAY 1 HEMATOLOGY HGB      NORMAL 
10 ABC-01-050 DAY 1 HEMATOLOGY LYM      NORMAL 
# â„¹ 399 more rows
# â„¹ Use `print(n = ...)` to see more rows

Merge and append change from baseline

datastep: columns increased from 9 to 10

# A tibble: 1,578 Ã— 10
   USUBJID    VISIT   VISITNUM LBCAT LBORRESU LBTEST LBTESTCD LBBLFL LBNRIND BLBNRIND
   &lt;chr&gt;      &lt;chr&gt;      &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;   
 1 ABC-01-049 WEEK 12       12 HEMAâ€¦ x10(9)/L Basopâ€¦ BASO     &lt;NA&gt;   NORMAL  NORMAL  
 2 ABC-01-049 WEEK 2         2 HEMAâ€¦ x10(9)/L Basopâ€¦ BASO     &lt;NA&gt;   NORMAL  NORMAL  
 3 ABC-01-049 DAY 1          1 HEMAâ€¦ x10(9)/L Basopâ€¦ BASO     Y      NORMAL  NORMAL  
 4 ABC-01-049 WEEK 6         6 HEMAâ€¦ x10(9)/L Basopâ€¦ BASO     &lt;NA&gt;   NORMAL  NORMAL  
 5 ABC-01-049 WEEK 12       12 HEMAâ€¦ x10(9)/L Eosinâ€¦ EOS      &lt;NA&gt;   NORMAL  NORMAL  
 6 ABC-01-049 DAY 1          1 HEMAâ€¦ x10(9)/L Eosinâ€¦ EOS      Y      NORMAL  NORMAL  
 7 ABC-01-049 WEEK 2         2 HEMAâ€¦ x10(9)/L Eosinâ€¦ EOS      &lt;NA&gt;   NORMAL  NORMAL  
 8 ABC-01-049 WEEK 6         6 HEMAâ€¦ x10(9)/L Eosinâ€¦ EOS      &lt;NA&gt;   NORMAL  NORMAL  
 9 ABC-01-049 WEEK 12       12 HEMAâ€¦ %        Hematâ€¦ HCT      &lt;NA&gt;   NORMAL  NORMAL  
10 ABC-01-049 WEEK 2         2 HEMAâ€¦ %        Hematâ€¦ HCT      &lt;NA&gt;   NORMAL  NORMAL  
# â„¹ 1,568 more rows
# â„¹ Use `print(n = ...)` to see more rows

Pull needed ARMs and columns for DM

# A tibble: 85 Ã— 3
   USUBJID    ARMCD ARM  
   &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt;
 1 ABC-01-049 4     ARM D
 2 ABC-01-050 2     ARM B
 3 ABC-01-051 1     ARM A
 4 ABC-01-052 3     ARM C
 5 ABC-01-053 2     ARM B
 6 ABC-01-054 4     ARM D
 7 ABC-01-055 3     ARM C
 8 ABC-01-056 1     ARM A
 9 ABC-01-113 4     ARM D
10 ABC-01-114 2     ARM B
# â„¹ 75 more rows
# â„¹ Use `print(n = ...)` to see more rows

Merge DM with LB to get subject treatments

datastep: columns increased from 10 to 12

# A tibble: 1,578 Ã— 12
   USUBJID    VISIT   VISITNUM LBCAT LBORRESU LBTEST LBTESTCD LBBLFL LBNRIND BLBNRIND
   &lt;chr&gt;      &lt;ord&gt;      &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;   
 1 ABC-01-049 Week 12       12 HEMAâ€¦ x10(9)/L Lymphâ€¦ LYM      &lt;NA&gt;   NORMAL  NORMAL  
 2 ABC-01-049 Week 6         6 HEMAâ€¦ x10(9)/L Lymphâ€¦ LYM      &lt;NA&gt;   NORMAL  NORMAL  
 3 ABC-01-049 Week 2         2 HEMAâ€¦ x10(9)/L Lymphâ€¦ LYM      &lt;NA&gt;   NORMAL  NORMAL  
 4 ABC-01-049 Week 6         6 HEMAâ€¦ x10(9)/L Basopâ€¦ BASO     &lt;NA&gt;   NORMAL  NORMAL  
 5 ABC-01-049 Week 12       12 HEMAâ€¦ x10(9)/L Eosinâ€¦ EOS      &lt;NA&gt;   NORMAL  NORMAL  
 6 ABC-01-049 Week 12       12 HEMAâ€¦ g/dL     Hemogâ€¦ HGB      &lt;NA&gt;   NORMAL  NORMAL  
 7 ABC-01-049 Week 2         2 HEMAâ€¦ x10(9)/L Eosinâ€¦ EOS      &lt;NA&gt;   NORMAL  NORMAL  
 8 ABC-01-049 Week 6         6 HEMAâ€¦ x10(9)/L Eosinâ€¦ EOS      &lt;NA&gt;   NORMAL  NORMAL  
 9 ABC-01-049 Week 12       12 HEMAâ€¦ %        Hematâ€¦ HCT      &lt;NA&gt;   NORMAL  NORMAL  
10 ABC-01-049 Day 1          1 HEMAâ€¦ x10(9)/L Lymphâ€¦ LYM      Y      NORMAL  NORMAL  
# â„¹ 1,568 more rows
# â„¹ 2 more variables: ARMCD &lt;chr&gt;, ARM &lt;chr&gt;
# â„¹ Use `print(n = ...)` to see more rows

=========================================================================
Get population counts
=========================================================================

proc_sort: input data set 86 rows and 12 columns
           by: ARM USUBJID
           keep: ARM USUBJID
           order: a a
           options: nodupkey
           output data set 86 rows and 2 columns

# A tibble: 86 Ã— 2
   ARM   USUBJID   
   &lt;chr&gt; &lt;chr&gt;     
 1 ARM A ABC-01-051
 2 ARM A ABC-01-056
 3 ARM A ABC-02-034
 4 ARM A ABC-02-038
 5 ARM A ABC-02-109
 6 ARM A ABC-03-002
 7 ARM A ABC-03-006
 8 ARM A ABC-03-091
 9 ARM A ABC-04-075
10 ARM A ABC-04-080
# â„¹ 76 more rows
# â„¹ Use `print(n = ...)` to see more rows

Get population frequencies

proc_freq: input data set 86 rows and 2 columns
           tables: ARM
           output: long
           view: TRUE
           output: 1 datasets

# A tibble: 1 Ã— 6
  VAR   STAT  `ARM A` `ARM B` `ARM C` `ARM D`
  &lt;chr&gt; &lt;chr&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 ARM   CNT        20      21      20      23

=========================================================================
Lab test labels
=========================================================================

Get lookup data for lab tests

proc_sort: input data set 10 rows and 12 columns
           by: LBTESTCD LBTEST LBORRESU
           keep: LBTESTCD LBTEST LBORRESU
           order: a a a
           options: nodupkey
           output data set 10 rows and 3 columns

# A tibble: 10 Ã— 3
   LBTESTCD LBTEST      LBORRESU
   &lt;chr&gt;    &lt;chr&gt;       &lt;chr&gt;   
 1 BASO     Basophils   x10(9)/L
 2 BASO     Basophils   &lt;NA&gt;    
 3 EOS      Eosinophils x10(9)/L
 4 EOS      Eosinophils &lt;NA&gt;    
 5 HCT      Hematocrit  %       
 6 HCT      Hematocrit  &lt;NA&gt;    
 7 HGB      Hemoglobin  g/dL    
 8 HGB      Hemoglobin  &lt;NA&gt;    
 9 LYM      Lymphocytes x10(9)/L
10 LYM      Lymphocytes &lt;NA&gt;    

Create test label with units

datastep: columns decreased from 3 to 2

# A tibble: 5 Ã— 2
  LBTESTCD LABEL                 
  &lt;chr&gt;    &lt;chr&gt;                 
1 BASO     Basophils (x10(9)/L)  
2 EOS      Eosinophils (x10(9)/L)
3 HCT      Hematocrit (%)        
4 HGB      Hemoglobin (g/dL)     
5 LYM      Lymphocytes (x10(9)/L)

Create lab value lookup

=========================================================================
Calculate frequencies
=========================================================================

Apply formats

Get freqs by ARM and visit

proc_freq: input data set 1578 rows and 12 columns
           tables: LBNRIND * BLBNRIND
           by: ARM LBTESTCD VISIT
           view: TRUE
           output: 1 datasets

# A tibble: 1,280 Ã— 10
   BY1   BY2   BY3   VAR1    VAR2     CAT1   CAT2        N   CNT   PCT
   &lt;chr&gt; &lt;chr&gt; &lt;ord&gt; &lt;chr&gt;   &lt;chr&gt;    &lt;fct&gt;  &lt;fct&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 ARM A BASO  Day 1 LBNRIND BLBNRIND Low    Low        19     0     0
 2 ARM A BASO  Day 1 LBNRIND BLBNRIND Low    Normal     19     0     0
 3 ARM A BASO  Day 1 LBNRIND BLBNRIND Low    High       19     0     0
 4 ARM A BASO  Day 1 LBNRIND BLBNRIND Low    Unknown    19     0     0
 5 ARM A BASO  Day 1 LBNRIND BLBNRIND Normal Low        19     0     0
 6 ARM A BASO  Day 1 LBNRIND BLBNRIND Normal Normal     19    19   100
 7 ARM A BASO  Day 1 LBNRIND BLBNRIND Normal High       19     0     0
 8 ARM A BASO  Day 1 LBNRIND BLBNRIND Normal Unknown    19     0     0
 9 ARM A BASO  Day 1 LBNRIND BLBNRIND High   Low        19     0     0
10 ARM A BASO  Day 1 LBNRIND BLBNRIND High   Normal     19     0     0
# â„¹ 1,270 more rows
# â„¹ Use `print(n = ...)` to see more rows

Combine frequencies and percents

datastep: columns decreased from 10 to 7

# A tibble: 1,280 Ã— 7
   BY1   BY2   BY3   CAT1   CAT2        N CNTPCT       
   &lt;chr&gt; &lt;chr&gt; &lt;ord&gt; &lt;fct&gt;  &lt;fct&gt;   &lt;dbl&gt; &lt;chr&gt;        
 1 ARM A BASO  Day 1 Low    Low        19 "0         " 
 2 ARM A BASO  Day 1 Low    Normal     19 "0         " 
 3 ARM A BASO  Day 1 Low    High       19 "0         " 
 4 ARM A BASO  Day 1 Low    Unknown    19 "0         " 
 5 ARM A BASO  Day 1 Normal Low        19 "0         " 
 6 ARM A BASO  Day 1 Normal Normal     19 "19 (100.0%)"
 7 ARM A BASO  Day 1 Normal High       19 "0         " 
 8 ARM A BASO  Day 1 Normal Unknown    19 "0         " 
 9 ARM A BASO  Day 1 High   Low        19 "0         " 
10 ARM A BASO  Day 1 High   Normal     19 "0         " 
# â„¹ 1,270 more rows
# â„¹ Use `print(n = ...)` to see more rows

Transpose ARMs

proc_transpose: input data set 1280 rows and 7 columns
                by: BY2 BY3 CAT1
                var: CNTPCT
                id: BY1 CAT2
                copy: N
                name: NAME
                output dataset 80 rows and 20 columns

# A tibble: 80 Ã— 20
   BY2   BY3    CAT1      N `ARM A.Low`  `ARM A.Normal` `ARM A.High` `ARM A.Unknown`
   &lt;chr&gt; &lt;ord&gt;  &lt;fct&gt; &lt;dbl&gt; &lt;chr&gt;        &lt;chr&gt;          &lt;chr&gt;        &lt;chr&gt;          
 1 BASO  Day 1  Low      19 "0         " "0         "   "0         " "0         "   
 2 EOS   Day 1  Low      19 "3 ( 15.8%)" "0         "   "0         " "0         "   
 3 HCT   Day 1  Low      20 "3 ( 15.0%)" "0         "   "0         " "0         "   
 4 HGB   Day 1  Low      20 "3 ( 15.0%)" "0         "   "0         " "0         "   
 5 LYM   Day 1  Low      19 "0         " "0         "   "0         " "0         "   
 6 BASO  Week 2 Low      19 "0         " "0         "   "0         " "0         "   
 7 EOS   Week 2 Low      19 "1 (  5.3%)" "0         "   "0         " "0         "   
 8 HCT   Week 2 Low      20 "1 (  5.0%)" "1 (  5.0%)"   "0         " "0         "   
 9 HGB   Week 2 Low      20 "1 (  5.0%)" "1 (  5.0%)"   "0         " "0         "   
10 LYM   Week 2 Low      19 "0         " "0         "   "0         " "0         "   
# â„¹ 70 more rows
# â„¹ 12 more variables: `ARM B.Low` &lt;chr&gt;, `ARM B.Normal` &lt;chr&gt;, `ARM B.High` &lt;chr&gt;,
#   `ARM B.Unknown` &lt;chr&gt;, `ARM C.Low` &lt;chr&gt;, `ARM C.Normal` &lt;chr&gt;,
#   `ARM C.High` &lt;chr&gt;, `ARM C.Unknown` &lt;chr&gt;, `ARM D.Low` &lt;chr&gt;,
#   `ARM D.Normal` &lt;chr&gt;, `ARM D.High` &lt;chr&gt;, `ARM D.Unknown` &lt;chr&gt;
# â„¹ Use `print(n = ...)` to see more rows

Apply formats

Rename variables

datastep: columns started with 20 and ended with 20

# A tibble: 80 Ã— 20
   LBTEST   VISIT RIND      N `ARM A.Low` `ARM A.Normal` `ARM A.High` `ARM A.Unknown`
   &lt;chr&gt;    &lt;ord&gt; &lt;fct&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;          &lt;chr&gt;        &lt;chr&gt;          
 1 Basophiâ€¦ Day 1 Low      19 "0        â€¦ "0         "   "0         " "0         "   
 2 Eosinopâ€¦ Day 1 Low      19 "3 ( 15.8%â€¦ "0         "   "0         " "0         "   
 3 Hematocâ€¦ Day 1 Low      20 "3 ( 15.0%â€¦ "0         "   "0         " "0         "   
 4 Hemogloâ€¦ Day 1 Low      20 "3 ( 15.0%â€¦ "0         "   "0         " "0         "   
 5 Lymphocâ€¦ Day 1 Low      19 "0        â€¦ "0         "   "0         " "0         "   
 6 Basophiâ€¦ Weekâ€¦ Low      19 "0        â€¦ "0         "   "0         " "0         "   
 7 Eosinopâ€¦ Weekâ€¦ Low      19 "1 (  5.3%â€¦ "0         "   "0         " "0         "   
 8 Hematocâ€¦ Weekâ€¦ Low      20 "1 (  5.0%â€¦ "1 (  5.0%)"   "0         " "0         "   
 9 Hemogloâ€¦ Weekâ€¦ Low      20 "1 (  5.0%â€¦ "1 (  5.0%)"   "0         " "0         "   
10 Lymphocâ€¦ Weekâ€¦ Low      19 "0        â€¦ "0         "   "0         " "0         "   
# â„¹ 70 more rows
# â„¹ 12 more variables: `ARM B.Low` &lt;chr&gt;, `ARM B.Normal` &lt;chr&gt;, `ARM B.High` &lt;chr&gt;,
#   `ARM B.Unknown` &lt;chr&gt;, `ARM C.Low` &lt;chr&gt;, `ARM C.Normal` &lt;chr&gt;,
#   `ARM C.High` &lt;chr&gt;, `ARM C.Unknown` &lt;chr&gt;, `ARM D.Low` &lt;chr&gt;,
#   `ARM D.Normal` &lt;chr&gt;, `ARM D.High` &lt;chr&gt;, `ARM D.Unknown` &lt;chr&gt;
# â„¹ Use `print(n = ...)` to see more rows

Sort by lab test

proc_sort: input data set 80 rows and 20 columns
           by: LBTEST VISIT
           keep: LBTEST VISIT RIND N ARM A.Low ARM A.Normal ARM A.High ARM A.Unknown ARM B.Low ARM B.Normal ARM B.High ARM B.Unknown ARM C.Low ARM C.Normal ARM C.High ARM C.Unknown ARM D.Low ARM D.Normal ARM D.High ARM D.Unknown
           order: a a
           output data set 80 rows and 20 columns

# A tibble: 80 Ã— 20
   LBTEST   VISIT RIND      N `ARM A.Low` `ARM A.Normal` `ARM A.High` `ARM A.Unknown`
   &lt;chr&gt;    &lt;ord&gt; &lt;fct&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;          &lt;chr&gt;        &lt;chr&gt;          
 1 Basophiâ€¦ Day 1 Low      19 "0        â€¦ "0         "   "0         " "0         "   
 2 Basophiâ€¦ Day 1 Normâ€¦    19 "0        â€¦ "19 (100.0%)"  "0         " "0         "   
 3 Basophiâ€¦ Day 1 High     19 "0        â€¦ "0         "   "0         " "0         "   
 4 Basophiâ€¦ Day 1 Unknâ€¦    19 "0        â€¦ "0         "   "0         " "0         "   
 5 Basophiâ€¦ Weekâ€¦ Low      19 "0        â€¦ "0         "   "0         " "0         "   
 6 Basophiâ€¦ Weekâ€¦ Normâ€¦    19 "0        â€¦ "18 ( 94.7%)"  "0         " "1 (  5.3%)"   
 7 Basophiâ€¦ Weekâ€¦ High     19 "0        â€¦ "0         "   "0         " "0         "   
 8 Basophiâ€¦ Weekâ€¦ Unknâ€¦    19 "0        â€¦ "0         "   "0         " "0         "   
 9 Basophiâ€¦ Weekâ€¦ Low      19 "0        â€¦ "0         "   "0         " "0         "   
10 Basophiâ€¦ Weekâ€¦ Normâ€¦    19 "0        â€¦ "18 ( 94.7%)"  "0         " "1 (  5.3%)"   
# â„¹ 70 more rows
# â„¹ 12 more variables: `ARM B.Low` &lt;chr&gt;, `ARM B.Normal` &lt;chr&gt;, `ARM B.High` &lt;chr&gt;,
#   `ARM B.Unknown` &lt;chr&gt;, `ARM C.Low` &lt;chr&gt;, `ARM C.Normal` &lt;chr&gt;,
#   `ARM C.High` &lt;chr&gt;, `ARM C.Unknown` &lt;chr&gt;, `ARM D.Low` &lt;chr&gt;,
#   `ARM D.Normal` &lt;chr&gt;, `ARM D.High` &lt;chr&gt;, `ARM D.Unknown` &lt;chr&gt;
# â„¹ Use `print(n = ...)` to see more rows

=========================================================================
Create report
=========================================================================

Create output path

C:\Users\dbosa\AppData\Local\Temp\RtmpaGlETW/output/example16.pdf

# A table specification:
- data: tibble 'lb_final' 80 rows 20 cols
- show_cols: all
- use_attributes: all
- spanning_header: from='ARM A.Low' to='ARM A.Unknown' 'Placebo' level=1 
- spanning_header: from='ARM B.Low' to='ARM B.Unknown' 'Drug 10mg' level=1 
- spanning_header: from='ARM C.Low' to='ARM C.Unknown' 'Drug 20mg' level=1 
- spanning_header: from='ARM D.Low' to='ARM D.Unknown' 'Competitor' level=1 
- define: LBTEST visible='FALSE' 
- define: VISIT 'Visit' align='left' id_var='TRUE' dedupe='TRUE' 
- define: N visible='FALSE' 
- define: RIND '' align='left' id_var='TRUE' 
- define: ARM A.Low 'Low' 
- define: ARM A.Normal 'Normal' 
- define: ARM A.High 'High' 
- define: ARM A.Unknown 'Unknown' 
- define: ARM B.Low 'Low' 
- define: ARM B.Normal 'Normal' 
- define: ARM B.High 'High' 
- define: ARM B.Unknown 'Unknown' 
- define: ARM C.Low 'Low' page_wrap='TRUE' 
- define: ARM C.Normal 'Normal' 
- define: ARM C.High 'High' 
- define: ARM C.Unknown 'Unknown' 
- define: ARM D.Low 'Low' 
- define: ARM D.Normal 'Normal' 
- define: ARM D.High 'High' 
- define: ARM D.Unknown 'Unknown' 

Write out report to file system

# A report specification: 10 pages
- file_path: 'C:\Users\dbosa\AppData\Local\Temp\RtmpaGlETW/output/example16.pdf'
- output_type: PDF
- units: inches
- orientation: landscape
- margins: top 1 bottom 0.5 left 1 right 1
- line size/count: 9/46
- page by: LBTEST
- page_header: left=Protocol: ABC 12345-678, DRUG/INDICATION: Consultopan, TLF Version: Final Database Lock (03FEB2024) right=(Page [pg] of [tpg]), DATABASE VERSION: 01FEB2024, TASK: CSR
- title 1: 'Table 4.3.1.1'
- title 2: ''
- title 3: 'Shift Table of Laboratory Values - Hematology'
- title 4: '(Safety Population)'
- footnote 1: 'PROGRAM/OUTPUT: T_LABSHIFT/T_4_3_1_1_HEM'
- footnote 2: 'DATE (TIME): 06FEB2024 (14:52)'
- footnote 3: 'Note 1: For N(%) of participants, percentages are calculated as the number of participants for each ARM at each visit as the denominator.'
- footnote 4: 'Reference: Listing 2.8.1.1, 2.8.1.2'
- content: 
# A table specification:
- data: tibble 'lb_final' 80 rows 20 cols
- show_cols: all
- use_attributes: all
- spanning_header: from='ARM A.Low' to='ARM A.Unknown' 'Placebo' level=1 
- spanning_header: from='ARM B.Low' to='ARM B.Unknown' 'Drug 10mg' level=1 
- spanning_header: from='ARM C.Low' to='ARM C.Unknown' 'Drug 20mg' level=1 
- spanning_header: from='ARM D.Low' to='ARM D.Unknown' 'Competitor' level=1 
- define: LBTEST visible='FALSE' 
- define: VISIT 'Visit' align='left' id_var='TRUE' dedupe='TRUE' 
- define: N visible='FALSE' 
- define: RIND '' align='left' id_var='TRUE' 
- define: ARM A.Low 'Low' 
- define: ARM A.Normal 'Normal' 
- define: ARM A.High 'High' 
- define: ARM A.Unknown 'Unknown' 
- define: ARM B.Low 'Low' 
- define: ARM B.Normal 'Normal' 
- define: ARM B.High 'High' 
- define: ARM B.Unknown 'Unknown' 
- define: ARM C.Low 'Low' page_wrap='TRUE' 
- define: ARM C.Normal 'Normal' 
- define: ARM C.High 'High' 
- define: ARM C.Unknown 'Unknown' 
- define: ARM D.Low 'Low' 
- define: ARM D.Normal 'Normal' 
- define: ARM D.High 'High' 
- define: ARM D.Unknown 'Unknown' 

=========================================================================
Clean Up
=========================================================================

=========================================================================
Log End Time: 2024-02-06 14:52:16.546017
Log Elapsed Time: 0 00:00:12
=========================================================================

</code></pre>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by David Bosak.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
